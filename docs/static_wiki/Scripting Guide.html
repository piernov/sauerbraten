<html>
  <head>
    <title>cube - Scripting Guide</title>
    <link rel="stylesheet" href="../style.css" type="text/css" /><link rel="shortcut icon" href="../favicon.ico" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
  </head>
  <body>
    <div class="wiki" id="content_view" style="display: block;">
<div id="toc"><h1 class="nopad">Table of Contents</h1><div style="margin-left: 1em;"><a href="#toc0">Introduction</a></div>
<div style="margin-left: 1em;"><a href="#toc1">CubeScript Topics</a></div>
<div style="margin-left: 2em;"><a href="#toc2">Documentation Revisited</a></div>
<div style="margin-left: 2em;"><a href="#toc3">Getting Started</a></div>
<div style="margin-left: 2em;"><a href="#toc4">Map Configuration</a></div>
<div style="margin-left: 2em;"><a href="#toc5">Menu Personalization</a></div>
<div style="margin-left: 1em;"><a href="#toc6">CubeScript 101</a></div>
<div style="margin-left: 2em;"><a href="#toc7">What happens at startup</a></div>
<div style="margin-left: 2em;"><a href="#toc8">What happens on map load</a></div>
<div style="margin-left: 2em;"><a href="#toc9">What can I do with scripting myself?</a></div>
<div style="margin-left: 2em;"><a href="#toc10">autoexec and config</a></div>
<div style="margin-left: 2em;"><a href="#toc11">scripting newbie</a></div>
</div>
<h1 id="toc0">Introduction</h1>
Your local documentation (README.html ff.) holds all the commands you can use, use it as reference for your current release.<br />
<br />
With scripting you can achieve a lot more personalized Sauerbraten experience; in most cases some simple copy-and-paste will do the trick. But this guide aims at showing some easy techniques to empower gamers and mappers alike.<br />
<br />
Any files you find in your game directory (and subdirs) ending in &quot;.cfg&quot; should contain CubeScript. Check them out to see what the engine already does via scripting ... and how!<br />
<br />
<h1 id="toc1">CubeScript Topics</h1>
<h2 id="toc2">Documentation Revisited</h2>
The basic command structures of CubeScript are explained on the <a class="wiki_link" href="Scripting%20Syntax.html">Scripting Syntax</a> page. Some introductory words on selected commands can be found on this <a class="wiki_link" href="Scripting%20Commands.html">Scripting Commands</a> summary. For programming you should be aware of the <a class="wiki_link" href="Scripting%20Flow%20Control.html">flow control possibilities</a>.<br />
<br />
<h2 id="toc3">Getting Started</h2>
Do your first steps with:<br />

<ul>
    <li><a class="wiki_link" href="Using%20the%20Console.html">Using the Console</a></li>
    <li><a class="wiki_link" href="Scripting%20Tutorial.html">Scripting Tutorial</a></li>
    <li><a class="wiki_link" href="CubeScript%20Tutorial.html">CubeScript Tutorial</a></li>
</ul>

<br />
<h2 id="toc4">Map Configuration</h2>
Scripting for maps is explained on the <a class="wiki_link" href="Map%20Config%20and%20Scripting.html">Map Config and Scripting</a>.<br />
<br />
<h2 id="toc5">Menu Personalization</h2>
Scripting for menus is explained on the <a class="wiki_link" href="Scripting%20Menus.html">Scripting Menus</a>.<br />
<br />
<h1 id="toc6">CubeScript 101</h1>
<h2 id="toc7">What happens at startup</h2>
Following files get executed:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.text  {font-family:monospace;}
.text .imp {font-weight: bold; color: red;}
.text span.xtra { display:block; }

-->
</style><pre class="text" style="font-family:monospace;">if config.cfg doesn't exist:
  only then do we execute data/defaults.cfg
  this will - at regular quit of engine -
  be written into config.cfg
&nbsp;
if config.cfg exists:
  execute it
&nbsp;
execute data/menus.cfg
&nbsp;
if autoexec.cfg exists:
  execute it</pre>

<br />
<h2 id="toc8">What happens on map load</h2>

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.text  {font-family:monospace;}
.text .imp {font-weight: bold; color: red;}
.text span.xtra { display:block; }

-->
</style><pre class="text" style="font-family:monospace;">data/default_map_settings.cfg is executed
if they exist
  packages/ ..PATH-to-package.cfg is executed
  packages/ ..PATH-to-Map.cfg is executed</pre>

<br />
<h2 id="toc9">What can I do with scripting myself?</h2>
Whatever you can describe as a combination of CubeScript-Blocks.<br />
<br />
<h2 id="toc10">autoexec and config</h2>
The engine autosaves your <a class="wiki_link" href="configuration.html">configuration</a> in <tt>config.cfg</tt>. To automatically run scripting on engine start you need only place them in <tt>autoexec.cfg</tt>.<br />
<br />
<h2 id="toc11">scripting newbie</h2>
To find out about what you can do, you'll need to know your way around the documentation at least; anything you can break down into single CubeScript commands can be made into a CubeScript Block and thus speed up your everyday use of the engine.<br />
<br />
Without being a programmer you might find a lot of this stuff too complicated for your taste, but do not despair! There are some examples on these pages to help you achieve a lot of goals and there are also quite a few scripts ready for download on <a class="wiki_link_ext" href="http://www.quadropolis.us" rel="nofollow">quadropolis</a>.<br />
<br />
But if you really want to get the most out of the engine it is suggested that you at least try getting familiar with some basics of the scripting capabilities! Try reading the page on <a class="wiki_link" href="Scripting%20Tutorial.html">Scripting Tutorial</a> to see what fundamental know-how this is and how easy it is. Always referr to your local documentation to find basic CubeScript commands and how to use them, anything you want to be executed in sequence can be put inside a CubeScript block - like so:<br />

<style type="text/css"><!--
/**
 * GeSHi (C) 2004 - 2007 Nigel McNie, 2007 - 2008 Benny Baumann
 * (http://qbnz.com/highlighter/ and http://geshi.org/)
 */
.text  {font-family:monospace;}
.text .imp {font-weight: bold; color: red;}
.text span.xtra { display:block; }

-->
</style><pre class="text" style="font-family:monospace;">// fullscreen only works on linux AFAIK
do_a_recalc = [fullbright 0;fullscreen 0;calclight 2;savemap;fullscreen 1]</pre>

You can then execute this block simply by calling <tt>do_a_recalc</tt> ... for example via the console, or from other CubeScript blocks. Another example of a minimal CubeScript to handle a repetitive task : <a class="wiki_link" href="Scripting%20Commands.html#prettyscreenshot">Scripting Commands</a> or from Quadropolis : <a class="wiki_link_ext" href="http://www.quadropolis.us/node/276" rel="nofollow">Pretty Screenshot</a>
    </div>
  </body>
</html>